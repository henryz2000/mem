{"ast":null,"code":"var messagesFromReactAppListener=function messagesFromReactAppListener(msg,sender,sendResponse){console.log(\"[content.js]. Message received\",msg);var title=document.title;var headlines=Array.from(document.getElementsByTagName(\"h1\")).map(function(h1){return h1.innerText;});var content=\"# \".concat(title,\"\\n\\n\").concat(headlines.map(function(headline){return\"## \".concat(headline);}));var response={title:title,headlines:headlines,content:content};console.log(\"[content.js]. Message response\",response);sendResponse(response);};/**\n * Fired when a message is sent from either an extension process or a content script.\n */chrome.runtime.onMessage.addListener(messagesFromReactAppListener);export{};","map":{"version":3,"sources":["/Users/henryz2000/Downloads/chrome-react-seo-extension/src/chromeServices/DOMEvaluator.ts"],"names":["messagesFromReactAppListener","msg","sender","sendResponse","console","log","title","document","headlines","Array","from","getElementsByTagName","map","h1","innerText","content","headline","response","chrome","runtime","onMessage","addListener"],"mappings":"AAEA,GAAMA,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,CACnCC,GADmC,CAEnCC,MAFmC,CAGnCC,YAHmC,CAIhC,CACHC,OAAO,CAACC,GAAR,CAAY,gCAAZ,CAA8CJ,GAA9C,EAEA,GAAMK,CAAAA,KAAK,CAAGC,QAAQ,CAACD,KAAvB,CACA,GAAME,CAAAA,SAAS,CAAGC,KAAK,CAACC,IAAN,CAAWH,QAAQ,CAACI,oBAAT,CAAoC,IAApC,CAAX,EAAsDC,GAAtD,CAChB,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACC,SAAX,EADgB,CAAlB,CAGA,GAAMC,CAAAA,OAAO,aAAQT,KAAR,gBAEbE,SAAS,CAACI,GAAV,CAAc,SAACI,QAAD,CAAc,CAC5B,mBAAaA,QAAb,EACD,CAFC,CAFa,CAAb,CAMA,GAAMC,CAAAA,QAA4B,CAAG,CACnCX,KAAK,CAALA,KADmC,CAEnCE,SAAS,CAATA,SAFmC,CAGnCO,OAAO,CAAPA,OAHmC,CAArC,CAMAX,OAAO,CAACC,GAAR,CAAY,gCAAZ,CAA8CY,QAA9C,EAEAd,YAAY,CAACc,QAAD,CAAZ,CACD,CA1BD,CA4BA;AACA;AACA,GACAC,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBC,WAAzB,CAAqCrB,4BAArC,E","sourcesContent":["import { DOMMessage, DOMMessageResponse } from \"../types\";\n\nconst messagesFromReactAppListener = (\n  msg: DOMMessage,\n  sender: chrome.runtime.MessageSender,\n  sendResponse: (response: DOMMessageResponse) => void\n) => {\n  console.log(\"[content.js]. Message received\", msg);\n\n  const title = document.title;\n  const headlines = Array.from(document.getElementsByTagName<\"h1\">(\"h1\")).map(\n    (h1) => h1.innerText\n  );\n  const content = `# ${title}\n\n${headlines.map((headline) => {\n  return `## ${headline}`;\n})}`;\n\n  const response: DOMMessageResponse = {\n    title,\n    headlines,\n    content,\n  };\n\n  console.log(\"[content.js]. Message response\", response);\n\n  sendResponse(response);\n};\n\n/**\n * Fired when a message is sent from either an extension process or a content script.\n */\nchrome.runtime.onMessage.addListener(messagesFromReactAppListener);\n"]},"metadata":{},"sourceType":"module"}