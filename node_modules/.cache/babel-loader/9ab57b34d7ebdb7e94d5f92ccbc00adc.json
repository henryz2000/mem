{"ast":null,"code":"var messagesFromReactAppListener=function messagesFromReactAppListener(msg,sender,sendResponse){console.log(\"[content.js]. Message received\",msg);var response={title:document.title,headlines:Array.from(document.getElementsByTagName(\"h1\")).map(function(h1){return h1.innerText;})};console.log(\"[content.js]. Message response\",response);sendResponse(response);};/**\n * Fired when a message is sent from either an extension process or a content script.\n */chrome.runtime.onMessage.addListener(messagesFromReactAppListener);// (async () => {\n//   console.log(\"test\");\n//   // const [tab] = await chrome.tabs.query({\n//   //   active: true,\n//   //   lastFocusedWindow: true,\n//   // });\n//   // const response = await chrome.tabs.sendMessage(tab.id!, {\n//   //   greeting: \"hello\",\n//   // });\n//   // // do something with response here, not outside the function\n//   // console.log(response);\n// })();\n// chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n//   console.log(\n//     sender.tab\n//       ? \"from a content script:\" + sender.tab.url\n//       : \"from the extension\"\n//   );\n//   // if (request.greeting === \"hello\") sendResponse({ farewell: \"goodbye\" });\n//   sendResponse({ farewell: \"goodbye\" });\n// });\nexport{};","map":{"version":3,"sources":["/Users/henryz2000/Downloads/chrome-react-seo-extension/src/chromeServices/DOMEvaluator.ts"],"names":["messagesFromReactAppListener","msg","sender","sendResponse","console","log","response","title","document","headlines","Array","from","getElementsByTagName","map","h1","innerText","chrome","runtime","onMessage","addListener"],"mappings":"AAEA,GAAMA,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,CACnCC,GADmC,CAEnCC,MAFmC,CAGnCC,YAHmC,CAIhC,CACHC,OAAO,CAACC,GAAR,CAAY,gCAAZ,CAA8CJ,GAA9C,EAEA,GAAMK,CAAAA,QAA4B,CAAG,CACnCC,KAAK,CAAEC,QAAQ,CAACD,KADmB,CAEnCE,SAAS,CAAEC,KAAK,CAACC,IAAN,CAAWH,QAAQ,CAACI,oBAAT,CAAoC,IAApC,CAAX,EAAsDC,GAAtD,CACT,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACC,SAAX,EADS,CAFwB,CAArC,CAOAX,OAAO,CAACC,GAAR,CAAY,gCAAZ,CAA8CC,QAA9C,EAEAH,YAAY,CAACG,QAAD,CAAZ,CACD,CAjBD,CAmBA;AACA;AACA,GACAU,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBC,WAAzB,CAAqCnB,4BAArC,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { DOMMessage, DOMMessageResponse } from \"../types\";\n\nconst messagesFromReactAppListener = (\n  msg: DOMMessage,\n  sender: chrome.runtime.MessageSender,\n  sendResponse: (response: DOMMessageResponse) => void\n) => {\n  console.log(\"[content.js]. Message received\", msg);\n\n  const response: DOMMessageResponse = {\n    title: document.title,\n    headlines: Array.from(document.getElementsByTagName<\"h1\">(\"h1\")).map(\n      (h1) => h1.innerText\n    ),\n  };\n\n  console.log(\"[content.js]. Message response\", response);\n\n  sendResponse(response);\n};\n\n/**\n * Fired when a message is sent from either an extension process or a content script.\n */\nchrome.runtime.onMessage.addListener(messagesFromReactAppListener);\n\n// (async () => {\n//   console.log(\"test\");\n//   // const [tab] = await chrome.tabs.query({\n//   //   active: true,\n//   //   lastFocusedWindow: true,\n//   // });\n//   // const response = await chrome.tabs.sendMessage(tab.id!, {\n//   //   greeting: \"hello\",\n//   // });\n//   // // do something with response here, not outside the function\n//   // console.log(response);\n// })();\n\n// chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n//   console.log(\n//     sender.tab\n//       ? \"from a content script:\" + sender.tab.url\n//       : \"from the extension\"\n//   );\n//   // if (request.greeting === \"hello\") sendResponse({ farewell: \"goodbye\" });\n//   sendResponse({ farewell: \"goodbye\" });\n// });\n"]},"metadata":{},"sourceType":"module"}